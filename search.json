[
  {
    "objectID": "posts/electioneering-part-one.html",
    "href": "posts/electioneering-part-one.html",
    "title": "Electioneering: Part I",
    "section": "",
    "text": "As an Australian who has been resident in New Zealand for a couple of years I was entitled to vote in the recent federal election, and as a big fan of liberal democracy I was keen take part and see how the whole thing worked across the ditch. Although most democracies follow a “one man, one vote” system1, the actual make-up of parliament can vary depending on the system used to translate votes into representation2. Unlike Australia which uses a Single Transferable Vote (STV) to assign seats in both the upper and lower houses, New Zealand uses Mixed Member Proportional (MMP) voting to allocate all seats in a unicameral parliament.1 Or do now, at least.2 There are of course lots of ways that this can be distorted - like gerrymandering - but we’ll focus just on the voting system here.\nI thought this was interesting, and so decided to run a few simulations on what the makeup of the Australian parliament, in particular the House of Representatives, would be under different electoral systems. The series is divided into three parts:"
  },
  {
    "objectID": "posts/electioneering-part-one.html#the-contenders",
    "href": "posts/electioneering-part-one.html#the-contenders",
    "title": "Electioneering: Part I",
    "section": "The Contenders",
    "text": "The Contenders\nWe’ll review three different voting systems:\n\nFirst Past the Post\nFPTP is a simple and widely used system. Each voter casts a single vote for their preferred candidate, and the candidate with the most votes wins, regardless of whether they have an absolute majority. This is a winner-takes-all system, and so tends to favour larger, entrenched parties. It is still widely used in many countries, such as the US, the UK, and Papua New Guinea.\n\n\nSingle Transferable Vote\nSTV is the system used in Australian elections. Candidates have to reach the quota (&gt;50% of the vote) to be elected, whilst voters preference candidates in order from most-preferred to least-preferred. The counting process occurs in a defined sequence3:\n\nAll first-preference votes are tallied\nIf a candidate reaches the quota, they win\nIf no candidate reaches the quota, then the candidate with the lowest number of votes has their votes redistributed to the remaining candidates, based on the preferences of the voter\nEach candidates votes are then tallied again, and if the quota is reached then that candidate wins\nThe re-distribution-and-counting cycle continues until someone reaches quota\n\nMixed Member Proportional\nMMP is the system used in New Zealand. It is a hybrid hybrid voting method that combines elements of both FPTP and proportional representation. Two votes are cast:\n\nElectoral vote\nVote for your local electorate - this uses FPTP. New Zealand has 70 electorates, and so 70 electoral MPs.\nParty vote\nThis is a national vote which allocates a number of further seats based on the proportion of votes that each party received. The NZ parliament contains 1204 total seats, so there are an additional 50 MPs who are placed from the party vote and don’t have an electorate - these are known as ‘list’ MPs. To be eligible to receive seats from the list, a party must win an electorate seat or receive &gt;5% of the party vote.\n\n\n3 This only applies to the lower house. The senate uses a slightly different system, which isn’t relevant to us here as we’re only looking at the House of Representatives.4 -ish, see the discussion in part 2 about overhang."
  },
  {
    "objectID": "posts/electioneering-part-one.html#the-plan",
    "href": "posts/electioneering-part-one.html#the-plan",
    "title": "Electioneering: Part I",
    "section": "The Plan",
    "text": "The Plan\nThe goal is to see how the makeup of the Australian parliament differs under each of these systems. This will require:\n\nVoting data\nWe’ll use the 2022 federal election data, courtesy of the Australian Electoral Commission.\nA map of the electorates\nWe’ll use the 2021 Commonwealth Electoral Divisions shapefile, courtesy of the Australian Bureau of Statistics5.\nA blueprint for an MMP parliament\nWe’ll make this up.\n\n5 The ABS is definitely my favourite government department (a tough decision, obviously) - there’s a huge amount of freely available data on a dizzying number of topics that are usually amenable to merging into medical datasets - if you’re doing any multi-site or multi-state analysis it is definitely worth poking around here."
  },
  {
    "objectID": "posts/electioneering-part-one.html#data-wrangling",
    "href": "posts/electioneering-part-one.html#data-wrangling",
    "title": "Electioneering: Part I",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nFirst, we’ll do the usual environment set up:\n\n# Libraries\nrequire(tidyverse)    # For data wrangling\nrequire(magrittr)     # For piping arithmetic (actually)\nrequire(sf)           # For producing maps\nrequire(ggiraph)      # For producing interactive maps without D3\nrequire(patchwork)    # For combining maps\n\n\nVoting Data\n\n\n\nWe’ve loaded up the voting data behind the scenes, and are going to tidy up the data types. I’m not sure if we’ll need all of these columns yet, but since there aren’t that many of them it’s convenient to just transform them all now.\nWe make the binary Elected variables into logical, and identify the key factor variables. We of course don’t need to touch the character or numeric variables as R has classified these already6.6 We also do a cheeky find-and-replace on the DivisionNm variable (which identifies the electorates), as special characters can play havoc when it comes time to plot maps. Replacing hyphens with an en dash insures us against typographic shenanigans. I’ve got my eye on you, Eden-Monaro.\n\n# Data cleaning\nvotes = votes %&gt;%\n  mutate(DivisionNm = gsub(\"-\", \"–\", DivisionNm),\n         across(ends_with(\"Elected\"), ~ ifelse(. == \"N\", FALSE, TRUE)),\n         across(c(StateAb, DivisionNm, PartyAb, CalculationType), as.factor)) %&gt;%\n  # Pivot out the vote counts and percentages\n  pivot_wider(names_from = CalculationType,\n              values_from = CalculationValue) %&gt;%\n  rename(prefCount = \"Preference Count\",\n         prefPC = \"Preference Percent\",\n         tranCount = \"Transfer Count\",\n         tranPC = \"Transfer Percent\")\n\n\n# Inspect the parties in more detail\nparties = votes %&gt;%\n  group_by(PartyAb, PartyNm) %&gt;%\n  summarise()\n\nhead(parties)\n\n\n\n\n\nPartyAb\nPartyNm\n\n\n\n\n\n\n\n\nAJP\nAnimal Justice Party\n\n\nALP\nA.L.P.\n\n\nALP\nAustralian Labor Party\n\n\nALP\nLabor\n\n\nASP\nShooters, Fishers and Farmers Party\n\n\n\n\n\n\nThe other thing that needs correcting are the party names and abbreviations as there are some clear duplicates. There’s a couple of judgement calls here, but we follow established conventions and I think the ambiguity reduction is beneficial.\n\nvotes = votes %&gt;%\n  mutate(PartyAb = PartyAb %&gt;%\n           forcats::fct_collapse(\"GRN\" = c(\"GVIC\"),\n                                 \"IND\" = c(\"\")),\n         PartyNm = PartyNm %&gt;%\n           forcats::fct_collapse(\"Independent\" = c(\"\"),\n                                 \"Labor\" = c(\"A.L.P.\", \"Australian Labor Party\"),\n                                 \"Democratic Alliance\" = c(\"Drew Pavlou Democratic Alliance\"),\n                                 \"The Greens\" = c(\"The Greens (WA)\", \"Queensland Greens\"),\n                                 \"Katter's Australian Party\" = c(\"Katter's Australian Party (KAP)\"),\n                                 \"Liberal Party\" = c(\"Liberal National Party of Queensland\"),\n                                 \"The Nationals\" = c(\"National Party\"),\n                                 \"The New Liberals\" = c(\"TNL\"),\n                                 \"Western Australia Party\" = c(\"WESTERN AUSTRALIA PARTY\")))\n\n\n\nGeometric Data\nWith the voting data cleaned, we can turn our attention to the geometric data. The first order of business is to check that the names of the electorates in our shapefile (ced) line up with the names in the voting data.\n\nced = ced %&gt;%\n  mutate(CED_NAME21 = gsub(\"-\", \"–\", CED_NAME21))\n\nx = ced$CED_NAME2\ny = unique(votes$DivisionNm)\n\nsetdiff(x, y)\nsetdiff(y, x)\nrm(x, y)\n\nAll names align except the “no usual address” geoms, which we will strip out. We’ll also transform our geographic data to use the EPSG:4326/WGS84 coordinate system. Coordinate systems are complex and interesting, it is enough for our purposes to say that this datum lets us plot latitudes and longitudes from a map without having to think too hard about it.\n\nced = ced %&gt;%\n  ### Drop the unnecessary data and restrict our map geoms to the electorates\n  select(-c(CED_CODE21, STE_CODE21, AUS_CODE21, AUS_NAME21, LOCI_URI21)) %&gt;%\n  filter(CED_NAME21 %in% votes$DivisionNm) %&gt;%\n  mutate(DivisionNm = CED_NAME21) %&gt;%\n  # Transform the CRS\n  st_transform(crs = 4326) %&gt;%\n  # Reduce the window to cover continental Australia\n  st_crop(xmin = 110, xmax = 160,\n          ymin = -45, ymax = -10)\n\nWe should also put together a list of the state capitals. Electorates are drawn with the aim of having a similar number of enrolled voters in each7, and so tend to cluster around major cities. We’ll put some insets into our graphs so changes won’t be overshadowed by the large electorates that dominate much of the landmass7 Although the actual number can vary quite a bit.\n\n# Set geography for insets\n# A list of cities, their latitude and longitude, and the radius around them that we'll capture the electorates from\nloc = tribble(~ city, ~ lat      , ~ long     , ~ rad,\n              \"mel\" , -37.8142354, 144.9668884, 45000,\n              \"syd\" , -33.8386302, 151.0310312, 40000,\n              \"bri\" , -27.4671551, 153.0169995, 15000,\n              \"ade\" , -34.7894706, 138.5687859, 15000,\n              \"per\" , -32.0212408, 115.8735055, 15000)\n\nThe last thing we need to do for the setup is define some cosmetic options, so that each party is drawn in an appropriate colour. To spare the tedious process, we will do this off screen. If you want to follow along, the files (and the source data) are in the Github repository.\nNext time - some actual analysis!"
  },
  {
    "objectID": "posts/electioneering-part-two.html",
    "href": "posts/electioneering-part-two.html",
    "title": "Electioneering: Part II",
    "section": "",
    "text": "Previously, we conducted data cleaning and set ourselves up for a (hopefully) painless analysis. In this part, we’ll determine what the makeup of the lower house would be under each electoral system, based on the 2022 election results. The series is divided into three parts:"
  },
  {
    "objectID": "posts/electioneering-part-two.html#single-transferrable-vote",
    "href": "posts/electioneering-part-two.html#single-transferrable-vote",
    "title": "Electioneering: Part II",
    "section": "Single Transferrable Vote",
    "text": "Single Transferrable Vote\nWe’ll start with Single Transferable Vote, as it is the current system in use. It’s also easy - the AEC has done all the work already.\n\nstv = votes %&gt;%\n  group_by(DivisionID) %&gt;%\n  # Take the highest count\n  slice_max(CountNumber, n = 1) %&gt;%\n  # Calculate the margin of victory\n  arrange(desc(prefCount), .by_group = TRUE) %&gt;%\n  mutate(margin = prefCount - lead(prefCount)) %&gt;%\n  # Take the winner\n  slice_max(prefCount, n = 1) %&gt;%\n  ungroup()\n\nYou can explore the outcomes for STV in the table below. Comparative analysis will have to wait for part 3."
  },
  {
    "objectID": "posts/electioneering-part-two.html#first-past-the-post",
    "href": "posts/electioneering-part-two.html#first-past-the-post",
    "title": "Electioneering: Part II",
    "section": "First Past the Post",
    "text": "First Past the Post\nFirst past the post is also straightforward - it’s whoever won the first round of preferences. We’ll calculate a couple of other metrics here as well, firstly the margin of victory to get a sense of the fragility of the system, and also put together a tooltip, which we will use when mapping this result.\n\nfptp = votes %&gt;%\n  group_by(DivisionID) %&gt;%\n  # Restrict to the first round of preferences\n  filter(CountNumber == 0) %&gt;%\n  # Calculate the margin between first and second\n  arrange(desc(prefCount), .by_group = TRUE) %&gt;%\n  mutate(margin = prefCount - lead(prefCount)) %&gt;%\n  # Identify the person with the most votes\n  slice_max(prefCount, n = 1) %&gt;%\n  mutate(tooltip = paste0(DivisionNm, \"\\n\",\n                          GivenNm, \" \", Surname, \"\\n\",\n                          PartyNm, \" by \", margin)) %&gt;%\n  ungroup()"
  },
  {
    "objectID": "posts/electioneering-part-two.html#mixed-member-proportional",
    "href": "posts/electioneering-part-two.html#mixed-member-proportional",
    "title": "Electioneering: Part II",
    "section": "Mixed Member Proportional",
    "text": "Mixed Member Proportional\nThis is the most complex of the three, as we are trying to map existing votes to a different electoral system. So, we’ll have to make some assumptions:\n\nContinue to ignore the senate, and focus solely on the lower house\nAddition of 631 list MPs, surplus2 to the current electoral MPs\n\nParty vote will be defined as the percentage of 1st preference votes that were not for an independent\nThis is probably the most objectionable - my anecdotal experience of one (1) New Zealand election and the associated commentary is that some people may vote quite differently (including either major party) based on their relative opinion of their local candidates and the party as a whole3.\nIndependents are allowed to run, but can only win electoral seats, and don’t contribute to party vote4\nNew Zealand independents seem to run as a member of a single-person party, but this assumption holds in practice because they don’t receive significant proportion of the national vote and so don’t reach the 5% threshold required for list MPs.\n\n1 This makes the ratio of list:electoral MPs to be equivalent to that used by the NZ parliament, which is 50:70.2 Redrawing the current electoral boundaries to maintain 151 total seats is left as an exercise to the reader, or the AEC.3 I find this a colourable explanation - all politics is local, and popular local members seemed to hold their seats by greater margins than the national swing would assume.4 A consequence of this is all independent MPs will cause an overhang.The composition of parliament in an MMP system is done by determining:\n\nWhat the proportion of seats in parliament that each party should receive\nThe number of these seats that will be filled by electoral wins\nAdditional seats are allocated based on the ratio of electoral seats to the proportional seats.\n\nIf the number of proportionally allocated seats is greater than the number of electoral seats5, the party receives additional list seats\nIf the number of electoral seats is greater than the number of proportionally allocated seats, then this is an overhang\nIn this case, party keeps all their electoral seats and gains no list seats6.\n\n\n5 This is usual and expected.6 There are a variety of different methods to deal with an overhang, this is the method used by New Zealand, and is comparatively simple.First, a quick check to see if there are any parties that have only one member - we will count those as independents.\n\nparty.size = votes %&gt;%\n  group_by(PartyAb) %&gt;%\n  summarise(n = n()) %&gt;%\n  arrange(n)\n\nThe next step is to determine, for each party, the:\n\nNumber of electorate seats won\nProportion of the party vote received\nNumber of seats that they are entitled to\n\n\n# Calculate the number of electoral seats\n# This uses FPTP - we can reuse our above code\nmmp.elec = votes %&gt;%\n  group_by(DivisionID) %&gt;%\n  # Restrict to the first round of preferences, and then the most votes\n  filter(CountNumber == 0) %&gt;%\n  slice_max(prefCount, n = 1)\n\n\n# Calculate the total makeup of parliament\nmmp = votes %&gt;%\n  # Drop the later rounds of voting, and the independents\n  # If there were any single-member parties, we'd drop those too\n  filter(!PartyAb %in% c(\"IND\"),\n         CountNumber == 0) %&gt;%\n  droplevels() %&gt;%\n  group_by(PartyAb) %&gt;%\n  # Calculate the total party vote received (and proportion)\n  summarise(partyVote = sum(prefCount)) %&gt;%\n  mutate(partyVotePC = (partyVote / sum(partyVote)) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2)) %&gt;%\n  # Add the number of electoral seats won\n  # Full join adds the independents back in, without their vote count or PC\n  full_join(mmp.elec %&gt;%\n              group_by(PartyAb) %&gt;%\n              summarise(seatsElecN = n())) %&gt;%\n  mutate(seatsElecN = replace_na(seatsElecN, 0),\n         seatsElecPC = (seatsElecN / length(levels(votes$DivisionNm))) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2))\n\nNow we allocate the list MPs. Exact allocation is not possible, as MPs don’t share seats7, and so some system for distributing seats to try and minimise apportionment paradoxes8. New Zealand uses the Sainte-Laguë system, which is designed to maximise proportional representation and iteratively allocates seats based on the following rule:7 This could be interesting, though.8 Apportionment paradoxes occur when seat allocation is unexpected given the voting behaviour of the electorate.\n\\[Quotient = {Votes \\over {2 \\times Seats + 1}}\\]\nWhere:\n\nThe party with the highest \\(quotient\\) gets the next seat\n\\(Votes\\) is the number of votes that party received\nThis doesn’t change between iterations.\n\\(Seats\\) is the number of seats allocated by the system\nThis starts at 0 for all parties.\n\nWe calculate the number of MPs in our new parliament, which we could easily do by hand but instead do by piping a frankly excessive number of functions, and then calculate the quotient, which would be a pain to do by hand.\n\n# Determine number of pre-overhang seats that we will allocate to non-independents\nn.mp = votes$DivisionNm %&gt;%\n  levels() %&gt;%\n  length() %&gt;%\n  # Multiply by the ratio of NZ list:electorate MPs\n  multiply_by(1 + (50/120)) %&gt;%\n  ceiling() # 214 total seats: 63 list, 151 electorate\n\n# Initial conditions\nmmp$seatsEntitledN = 0\n\n# Determine number of entitled seats based on party vote\nfor(i in 1:n.mp){\n  mmp = mmp %&gt;%\n    # Calculate quotient\n    mutate(quot = fn.saint_lague(votes = partyVote,\n                                 seats = seatsEntitledN),\n           # Drop parties that don't receive 5% of the vote, have an electorate seat, or aren't a party\n           quot = case_when(seatsElecN == 0 & partyVotePC &lt;5 ~ NA_real_,\n                            PartyAb == \"IND\" ~ NA_real_,\n                            .default = quot))\n  \n  # Identify the party with the highest quotient, and increment their entitled seat count\n  mmp[which.max(mmp$quot),]$seatsEntitledN = mmp[which.max(mmp$quot),]$seatsEntitledN + 1\n}\n\nNow we’ll tidy this up a bit.\n\n# Calculate overhang\nmmp = mmp %&gt;%\n  mutate(overhang = ifelse((seatsElecN &gt; seatsEntitledN) & !is.na(quot), seatsElecN - seatsEntitledN, 0))\n\n\n# Determine the makeup of parliament\nmmp = mmp %&gt;%\n  mutate(seatsListN = ifelse(seatsEntitledN &gt; seatsElecN, seatsEntitledN - seatsElecN, 0),\n         seatsTotalN = seatsElecN + seatsListN,\n         # Calculate percentages\n         seatsTotalPC = (seatsTotalN / sum(seatsTotalN)) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2),\n         seatsEntitledPC = (seatsEntitledN/sum(seatsEntitledN)) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2)) %&gt;%\n  select(-quot) %&gt;%\n  left_join(votes %&gt;%\n              group_by(PartyAb, PartyNm) %&gt;%\n              summarise()) %&gt;%\n  relocate(seatsEntitledPC,\n           .after = \"seatsEntitledN\") %&gt;%\n  relocate(PartyNm,\n           .after = \"PartyAb\")\n\nThere’s a couple of observations that leap out to me here:\n\nWe have a moderate number of overhang seats9\n\n3 for the LNP\n1 for the nationals\n3 independents\n\nThe seat allocations nicely match the proportion of 1st preference votes\nThis really shouldn’t be that surprising (it is, after all, the system working as designed) but it is nice to see that it validates some of the other assumptions made about translating preferences to party vote.\n\n9 This ratio appears proportional to me. Given that the independents are guaranteed under the assumptions (and are therefore “free”), we end up with ~1 overhang seat per 55 total seats, which is similar to the current NZ parliament."
  },
  {
    "objectID": "posts/electioneering-part-two.html#mapping-the-results",
    "href": "posts/electioneering-part-two.html#mapping-the-results",
    "title": "Electioneering: Part II",
    "section": "Mapping the Results",
    "text": "Mapping the Results\nThe next step is to plot the result onto an interactive map of the electorates, with insets for the high density regions. Geophysical analysis is often pretty verbose, but we’ll step through it in a logical sequence. We’ll illustrate this with first past the post data.\nFirstly, we join our shapefile ced to our FPTP outcomes data. This is easy - we’ve already checked and ensured the electorate names share a common variable in both dataframes during data preparation. We then reduce the complexity of the graph10 and produce our map with standard ggplot functions.10 st_simplify is a handy function that combines adjacent vectors, which decreases the time it takes to produce the plot (relevant when iterating through cosmetic choices) as well as the size of the overall file. We could do this in the data cleaning stage, but I want to keep a high level of detail for the insets, so we’ll do it each time instead.\n\nmap.data.fptp = ced %&gt;%\n  left_join(fptp)\n\nmap.fptp = map.data.fptp %&gt;%\n  st_simplify(dTolerance = 1000) %&gt;% # We do this here because we want the insets to be high detail\n  ggplot() +\n  geom_sf_interactive(aes(fill = PartyAb,\n                          tooltip = tooltip,\n                          data_id = DivisionID),\n                      lwd = 0.05) +\n\n  # Themeing\n  scale_fill_manual(values = colourScale) +\n  labs(fill = element_blank(),\n       x = NULL,\n       y = NULL) +\n  theme_void() +\n  theme(plot.margin = unit(c(0,0,0,0), \"cm\")) # (\"left\", \"right\", \"bottom\", \"top\")\n\ngirafe(ggobj = map.fptp)\n\n\n\n\n\nNot a bad start, but as expected the districts in the urban regions are too small to be interpretable. We can improve the readability of this by creating some insets for the major cities11.11 We define fn.mini_map to automate this - basically it draws a circle of a given radius around a point, captures all the electorates that are fully or partially within that circle, and then draws a new map of that subset.\n\n# Make a mini-map for Melbourne\nmap.fptp.mel = fn.mini_map(st = map.data.fptp,\n                           lat = loc[loc$city == \"mel\",]$lat,\n                           long = loc[loc$city == \"mel\",]$long,\n                           rad = loc[loc$city == \"mel\",]$rad)\n\n# ... Repeat for the other cities\n\nWe then combine these insets with the full map to produce a hybrid map. There’s still room for improvement, but this is good enough for now I think.\n\n\n\n\n\n\nWe’ll finish up with part 3, doing some comparative analysis of each system."
  },
  {
    "objectID": "writing.html",
    "href": "writing.html",
    "title": "Notes",
    "section": "",
    "text": "Electioneering: Part III\n\n\n\n\n\n\n\nR\n\n\nauspol\n\n\n\n\nFinal part a three-part series looking at how the composition of the Australian Federal parliament might vary under different electoral systems. In this part, we conduct a comparative analysis of each voting system.\n\n\n\n\n\n\nNov 9, 2023\n\n\n\n\n\n\n  \n\n\n\n\nElectioneering: Part II\n\n\n\n\n\n\n\nR\n\n\nauspol\n\n\n\n\nPart two of a three-part series looking at how the composition of the Australian Federal parliament might vary under different electoral systems. In this part, we simulate the makeup of the House of Representatives after the 2022 federal election under three different voting systems.\n\n\n\n\n\n\nNov 8, 2023\n\n\n\n\n\n\n  \n\n\n\n\nElectioneering: Part I\n\n\n\n\n\n\n\nR\n\n\nauspol\n\n\n\n\nFirst part of a three-part series looking at how the composition of the Australian Federal parliament might vary under different electoral systems. This part provides an overview of the electoral systems under review and preparing the data for analysis.\n\n\n\n\n\n\nNov 6, 2023\n\n\n\n\n\n\n  \n\n\n\n\nBreaking Wordle\n\n\n\n\n\n\n\nR\n\n\n\n\nWhat are the best starting words in Wordle? An approach to optimise the opening gambit, using R.\n\n\n\n\n\n\nJan 27, 2022\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "cjdbarlow.github.io",
    "section": "",
    "text": "Cardiac anaesthesia and Intensive Care registrar fellow currently living and working in Auckland, New Zealand. I like everything at the pointy end of medicine, and have eclectic interests across medical education, physical computing and biotech, and statistics and data visualisation.\nI like doing things, so please feel free to contact me about projects, ideas, or hairbrained schemes where I could have a positive impact: medical (cardiac ++, trauma +), humanitarian, challenging (but tractable), educational, stats (prediction modelling, Bayesian, and data visualisation); or some combination of the above."
  },
  {
    "objectID": "pages/bayes_trial_eval.html",
    "href": "pages/bayes_trial_eval.html",
    "title": "Bayesian Trial Evaluation",
    "section": "",
    "text": "Input the trial data into the contingency table and select whether or not the results were found significant.\nNext, set the pre-test probability based on your own prior, or leave it at 0.5 if you have equipoise.\nIf necessary, adjust the Bayesian analysis strategy based on the characteristics of the trial."
  },
  {
    "objectID": "pages/bayes_trial_eval.html#how-to-use",
    "href": "pages/bayes_trial_eval.html#how-to-use",
    "title": "Bayesian Trial Evaluation",
    "section": "",
    "text": "Input the trial data into the contingency table and select whether or not the results were found significant.\nNext, set the pre-test probability based on your own prior, or leave it at 0.5 if you have equipoise.\nIf necessary, adjust the Bayesian analysis strategy based on the characteristics of the trial."
  },
  {
    "objectID": "pages/bs.html",
    "href": "pages/bs.html",
    "title": "Bedside Scientist",
    "section": "",
    "text": "These are my notes built up over my anaesthetic and intensive care training, and serves as an easily-searchable personal reference when I am on the floor. As the goal is to provide guidance in uncertainty, it tends to be highly opinionated - irrespective of the level of evidence supporting those opinions. Reasonable people may disagree.\nUnlike Part One, which is (or at least, was) “complete”, this is still very much under construction. Many core topics are absent, others will be covered only partially and sometimes incorrectly, particularly if it is a topic I stumbled upon years ago and have not dusted off since.\nIn particular (and somewhat counter-intuitively), things I know quite well are often covered poorly (if at all), and may reflect the incomplete or incorrect understanding I held when I first came across them. Conversely, topics I can claim only a passing association or interest with may be covered in unrestrained detail as I need to refresh heavily each time they arise.\nIt can be viewed here."
  },
  {
    "objectID": "pages/part_one.html",
    "href": "pages/part_one.html",
    "title": "Part One",
    "section": "",
    "text": "Part One is a reference for trainees preparing for the CICM and ANZCA Primary Exams.\n\nPart One is:\n\nDesigned to cover the assessed sections of the CICM and ANZCA curricula in enough detail to pass\nA rough guide for the expected depth of knowledge required on a topic\nA tool to correct your written answers\nA source of information you might find difficult to find elsewhere\n\nPart One is not:\n\nA textbook\n\nThe definitive guide to the primary exam\nA complete reference\nThere will be both omissions and errors. If you find any, please let me know."
  },
  {
    "objectID": "pages/part_one.html#what-it-is",
    "href": "pages/part_one.html#what-it-is",
    "title": "Part One",
    "section": "",
    "text": "Part One is a reference for trainees preparing for the CICM and ANZCA Primary Exams.\n\nPart One is:\n\nDesigned to cover the assessed sections of the CICM and ANZCA curricula in enough detail to pass\nA rough guide for the expected depth of knowledge required on a topic\nA tool to correct your written answers\nA source of information you might find difficult to find elsewhere\n\nPart One is not:\n\nA textbook\n\nThe definitive guide to the primary exam\nA complete reference\nThere will be both omissions and errors. If you find any, please let me know."
  },
  {
    "objectID": "publications.html",
    "href": "publications.html",
    "title": "Publications",
    "section": "",
    "text": "1. Sidebotham D, Barlow CJ. The winners curse: Why large effect sizes in discovery trials always get smaller and often disappear completely. Anaesthesia. Available from: https://doi.org/10.1111%2Fanae.16161\n\n\n2. Sidebotham D, Barlow CJ, Martin J, Jones PM. Interpreting frequentist hypothesis tests: Insights from bayesian inference. Canadian Journal of Anesthesia/Journal canadien danesthésie. 2023 Oct 1;70(10):1560–75. Available from: https://doi.org/10.1007%2Fs12630-023-02557-5\n\n\n3. Seretny M, Barlow J, Sidebotham D. The credibility plot for extreme explanations and all explanations in between. Anaesthesia. 2023;78(4):535–5. Available from: https://www.doi.org/10.1111%2Fanae.15935\n\n\n4. Seretny M, Barlow J, Sidebotham D. Multicentre randomised trials in anaesthesia: An analysis using Bayesian metrics. Anaesthesia. 2023 Sep;78:73–80. Available from: https://doi.org/10.1111%2Fanae.15867\n\n\n5. Noyahr JK, Tatucu-Babet OA, Chapple LS, Barlow CJ, Chapman MJ, Deane AM, et al. Methodological rigor and transparency in clinical practice guidelines for nutrition care in critically ill adults: A systematic review using the AGREE II and AGREE-REX tools. Nutrients. 2022 Jun;14(13):2603. Available from: https://doi.org/10.3390%2Fnu14132603\n\n\n6. Sidebotham D, Barlow CJ. False-positive and false-negative risks for individual multicentre trials in critical care. BJA Open. 2022 Mar;1:100003. Available from: https://doi.org/10.1016%2Fj.bjao.2022.100003\n\n\n7. Barlow CJ, Pilcher D. Severity scoring and outcome prediction. In: Bersten AD, Handy J, editors. Oh’s intensive care manual. 8th ed. Elsevier; 2018. \n\n\n8. Barlow CJ, Morrison S, Stephens HO, Jenkins E, Bailey MJ, Pilcher D. Unprofessional behaviour on social media by medical students. Medical Journal of Australia. 2015 Dec;203(11):439–9. Available from: https://doi.org/10.5694%2Fmja15.00272\n\n\n9. Barlow CJD. Use of adrenaline in digital nerve blocks. Medical Journal of Australia. 2012 Sep;197(6):334–4. Available from: https://doi.org/10.5694%2Fmja12.10633"
  },
  {
    "objectID": "posts/electioneering-part-three.html",
    "href": "posts/electioneering-part-three.html",
    "title": "Electioneering: Part III",
    "section": "",
    "text": "In part II, we determined the makeup of parliament under the three different systems. In this part, we’ll reframe these results so we can perform a side-to-side analysis and draw some reasonable inferences.\nDue to the presence of list seats in an MMP system, looking at electorates alone elides the comparative advantage of the MMP system. For this reason, I’ve broken this section into two subsections: the first determines the total composition of parliament under each of FPTP, MMP, and STV, whilst the second compares the winners of electorates under FFP and STV."
  },
  {
    "objectID": "posts/electioneering-part-three.html#composition-by-party",
    "href": "posts/electioneering-part-three.html#composition-by-party",
    "title": "Electioneering: Part III",
    "section": "Composition by Party",
    "text": "Composition by Party\n\ncompare.parliament = votes %&gt;%\n  group_by(PartyAb) %&gt;%\n  filter(CountNumber == 0) %&gt;%\n  summarise(partyVoteN = sum(prefCount)) %&gt;%\n  mutate(partyVotePC = (partyVoteN / sum(partyVoteN)) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2)) %&gt;%\n  # Join to MMP\n  full_join(mmp %&gt;%\n              select(PartyAb,\n                     mmpElecSeatsN = seatsElecN,\n                     mmpListSeatsN = seatsListN,\n                     mmpTotSeatsN = seatsTotalN,\n                     mmpTotSeatsPC = seatsTotalPC)) %&gt;%\n  # Join to STV\n  full_join(stv %&gt;%\n              group_by(PartyAb) %&gt;%\n              summarise(stvSeatsN = n())) %&gt;%\n  # Join to FPTP\n  full_join(fptp %&gt;%\n              group_by(PartyAb) %&gt;%\n              summarise(fptpSeatsN = n())) %&gt;%\n  # Tidy up the missing\n  mutate(across(c(stvSeatsN, fptpSeatsN), ~ ifelse(is.na(.), 0, .)),\n         stvSeatsPC = (stvSeatsN / sum(stvSeatsN)) %&gt;%\n                  multiply_by(100) %&gt;%\n                  round(digits = 2),\n         fptpSeatsPC = (fptpSeatsN / sum(fptpSeatsN)) %&gt;%\n           multiply_by(100) %&gt;%\n           round(digits = 2)) %&gt;%\n  # Difference from party vote\n  mutate(across(ends_with(\"SeatsPC\"), ~ . - partyVotePC, .names = \"{.col}_diff\"))\n\n\n\n\n\n\n\n  \n    \n      Comparison of Parliament Under Three Voting Systems\n    \n    \n      Australian Federal Election 2022\n    \n    \n      Party\n      Party Vote (%)\n      \n        Mixed Member Proportional\n      \n      \n        Single Transferrable Vote\n      \n      \n        First Past the Post\n      \n    \n    \n      Seats (n)\n      Seats (%)\n      Deviance (%)\n      Seats (n)\n      Seats (%)\n      Deviance (%)\n      Seats (n)\n      Seats (%)\n      Deviance (%)\n    \n  \n  \n    ALP\n32.58\n81\n36.65\n4.07\n77\n50.99\n18.41\n71\n47.02\n14.44\n    LP\n23.89\n59\n26.70\n2.81\n27\n17.88\n-6.01\n40\n26.49\n2.60\n    GRN\n12.25\n31\n14.03\n1.78\n4\n2.65\n-9.60\n2\n1.32\n-10.93\n    LNP\n8.00\n23\n10.41\n2.41\n21\n13.91\n5.91\n23\n15.23\n7.23\n    IND\n5.30\n3\n1.36\n-3.94\n10\n6.62\n1.32\n3\n1.99\n-3.31\n    ON\n4.96\n12\n5.43\n0.47\n0\n0.00\n-4.96\n0\n0.00\n-4.96\n    UAPP\n4.12\n0\n0.00\n-4.12\n0\n0.00\n-4.12\n0\n0.00\n-4.12\n    NP\n3.60\n10\n4.52\n0.92\n10\n6.62\n3.02\n10\n6.62\n3.02\n    LDP\n1.73\n0\n0.00\n-1.73\n0\n0.00\n-1.73\n0\n0.00\n-1.73\n    AJP\n0.60\n0\n0.00\n-0.60\n0\n0.00\n-0.60\n0\n0.00\n-0.60\n    CYA\n0.39\n0\n0.00\n-0.39\n0\n0.00\n-0.39\n0\n0.00\n-0.39\n    KAP\n0.38\n1\n0.45\n0.07\n1\n0.66\n0.28\n1\n0.66\n0.28\n    XEN\n0.25\n1\n0.45\n0.20\n1\n0.66\n0.41\n1\n0.66\n0.41\n    WAP\n0.23\n0\n0.00\n-0.23\n0\n0.00\n-0.23\n0\n0.00\n-0.23\n    GAP\n0.21\n0\n0.00\n-0.21\n0\n0.00\n-0.21\n0\n0.00\n-0.21\n  \n  \n  \n    \n       Deviance is the percentage difference between the proportion of seats held compared to the 1st preference vote.\n    \n    \n       NB: Parties receiving less than 30,000 votes are not displayed."
  },
  {
    "objectID": "posts/electioneering-part-three.html#composition-by-electorates",
    "href": "posts/electioneering-part-three.html#composition-by-electorates",
    "title": "Electioneering: Part III",
    "section": "Composition by Electorates",
    "text": "Composition by Electorates\n\ncompare.seat = full_join(\n  stv %&gt;%\n    mutate(name = paste(GivenNm, Surname)) %&gt;%\n    select(StateAb, DivisionNm,\n           stvID = CandidateID, stvName = name, stvParty = PartyAb, stvCount = prefCount, stvMargin = margin),\n  fptp %&gt;%\n    mutate(name = paste(GivenNm, Surname)) %&gt;%\n    select(StateAb, DivisionNm,\n           fptpID = CandidateID, fptpName = name, fptpParty = PartyAb, fptpCount = prefCount, fptpMargin = margin),\n  by = c(\"StateAb\", \"DivisionNm\")) %&gt;%\n  mutate(identical = ifelse(stvID == fptpID, TRUE, FALSE)) %&gt;%\n  select(-c(stvID, fptpID))\n\n\n\n\n\n\n\n  \n    \n      Comparison of Electorates with Differing Outcomes Under STV and FPTP\n    \n    \n      Australian Federal Election 2022\n    \n    \n      \n      State\n      \n        Single Transferable Vote\n      \n      \n        First Past the Post\n      \n    \n    \n      Elected Member\n      Party\n      Votes (n)\n      Margin (n)\n      Elected Member\n      Party\n      Votes (n)\n      Margin (n)\n    \n  \n  \n    Bennelong\nNSW\nJerome LAXALE\nALP\n50,801.00\n1,954.00\nSimon KENNEDY\nLP\n41,206.00\n3,610.00\n    Boothby\nSA\nLouise MILLER-FROST\nALP\n60,579.00\n7,451.00\nRachel SWIFT\nLP\n43,196.00\n6,450.00\n    Brisbane\nQLD\nStephen BATES\nGRN\n58,460.00\n8,122.00\nTrevor EVANS\nLNP\n41,032.00\n11,380.00\n    Curtin\nWA\nKate CHANEY\nIND\n53,847.00\n2,657.00\nCelia HAMMOND\nLP\n43,408.00\n12,466.00\n    Fowler\nNSW\nDai LE\nIND\n44,348.00\n2,793.00\nKristina KENEALLY\nALP\n30,973.00\n5,627.00\n    Gilmore\nNSW\nFiona PHILLIPS\nALP\n56,039.00\n373.00\nAndrew CONSTANCE\nLP\n46,941.00\n6,766.00\n    Goldstein\nVIC\nZoe DANIEL\nIND\n51,861.00\n5,635.00\nTim WILSON\nLP\n39,607.00\n5,792.00\n    Higgins\nVIC\nMichelle ANANDA-RAJAH\nALP\n49,726.00\n3,941.00\nKatie ALLEN\nLP\n38,859.00\n11,672.00\n    Kooyong\nVIC\nMonique RYAN\nIND\n54,276.00\n6,035.00\nJosh FRYDENBERG\nLP\n43,736.00\n2,433.00\n    Lyons\nTAS\nBrian MITCHELL\nALP\n37,341.00\n1,344.00\nSusie BOWER\nLP\n27,296.00\n6,001.00\n    Mackellar\nNSW\nSophie SCAMPS\nIND\n51,973.00\n4,955.00\nJason FALINSKI\nLP\n40,993.00\n3,269.00\n    North Sydney\nNSW\nKylea Jane TINK\nIND\n51,392.00\n5,666.00\nTrent ZIMMERMAN\nLP\n36,956.00\n12,479.00\n    Robertson\nNSW\nGordon REID\nALP\n50,277.00\n4,344.00\nLucy WICKS\nLP\n38,448.00\n2,217.00\n    Ryan\nQLD\nElizabeth WATSON-BROWN\nGRN\n52,286.00\n5,256.00\nJulian SIMMONDS\nLNP\n38,239.00\n8,236.00\n    Tangney\nWA\nSam LIM\nALP\n56,331.00\n5,114.00\nBen MORTON\nLP\n43,008.00\n2,068.00\n    Wentworth\nNSW\nAllegra SPENDER\nIND\n48,186.00\n7,449.00\nDave SHARMA\nLP\n35,995.00\n4,185.00\n  \n  \n  \n\n\n\n\n\nElectoral Maps\n\nFirst Past the PostSingle Transferable Vote"
  },
  {
    "objectID": "posts/wordle.html",
    "href": "posts/wordle.html",
    "title": "Breaking Wordle",
    "section": "",
    "text": "Like much of the internet, I have been fascinated with the game Wordle. For those unaware, the basic premise is to guess a five letter word in less than six attempts. Unlike many such games, there is no initial clue. Your first guess is made blind, and then refined in subsequent rounds based on whether the letter was:\nIt’s a simple mechanic, and quite fun. Part of the appeal comes from the fact that it’s really a logic game. Since the potential solution space becomes very small very quickly; intelligent early guesses can remove vast swathes of dictionary from consideration. So the key question is; what are the best words to guess first?"
  },
  {
    "objectID": "posts/wordle.html#combinations",
    "href": "posts/wordle.html#combinations",
    "title": "Breaking Wordle",
    "section": "4. Combinations",
    "text": "4. Combinations\nLastly, we take our list of best words, cross them to make a list of all possible combinations, and then cut that list down to a combination that contains only one of each of the high-yield letters, in a high-yield position.\n\nbest_combinations = list(first = best_words$word,\n               second = best_words$word) %&gt;%\n  cross() %&gt;%\n  map_df(as_tibble) %&gt;%\n  mutate(word = paste(first, second, sep = \"\"),\n         a = stri_count_fixed(word, pattern = \"a\"),\n         e = stri_count_fixed(word, pattern = \"e\"),\n         i = stri_count_fixed(word, pattern = \"i\"),\n         l = stri_count_fixed(word, pattern = \"l\"),\n         n = stri_count_fixed(word, pattern = \"n\"),\n         o = stri_count_fixed(word, pattern = \"o\"),\n         r = stri_count_fixed(word, pattern = \"r\"),\n         s = stri_count_fixed(word, pattern = \"s\"),\n         t = stri_count_fixed(word, pattern = \"t\"),\n         u = stri_count_fixed(word, pattern = \"u\")) %&gt;%\n  filter(across(-c(first, second, word), ~ . == 1)) %&gt;%\n  select(first, second)\n\nknitr::kable(best_combinations,\n             col.names = c(\"First Word\", \"Second Word\"))\n\n\n\n\nFirst Word\nSecond Word\n\n\n\n\ntails\nrouen\n\n\nrouen\ntails\n\n\n\n\n\nThere we have it! An unlikely combination."
  }
]